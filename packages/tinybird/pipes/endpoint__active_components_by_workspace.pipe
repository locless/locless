VERSION 1
TOKEN "endpoint__active_components_by_workspace_endpoint_read_5781" READ

NODE endpoint
SQL >

    %
    SELECT count(DISTINCT componentId) as components
    FROM mv__monthly_active_components
    where
        workspaceId = {{ String(workspaceId, required=True) }}
        and time = makeDate({{ Int64(year) }}, {{ Int64(month) }}, 1)
    group by  time